
@{
    ViewBag.Title = "Index";
}
<div ng-controller="PersonCtrl" ng-cloak>
    
    <h2>Base CRUD</h2>
   @*Bootstrap alerts*@
    <div class="alert alert-success alert-dismissible" ng-show="success" role="alert">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <strong>Success!</strong> We have saved your data.
    </div>

    <div class="alert alert-danger alert-dismissible" ng-show="error" role="alert">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <strong>Error!</strong> Something happened please review the form data and try again.
    </div>
     
    <h3>Person</h3>
    <form name="personForm" ng-submit="submit(person)" class="" novalidate>
        
        <div class="form-group" ng-class="{'has-error': personForm.firstName.$invalid, 'has-success': personForm.firstName.$valid}">
            <label class="control-label" for="firstName">First Name:</label>
            <input type="text" class="form-control" ng-model="person.firstName" name="firstName" placeholder="Enter first name" required />
            @*<span ng-show="personForm.firstName.$error.required">*Enter person name.</span>*@
        </div>

        <div class="form-group">
            <label class="control-label" for="lastName">Last Name:</label>
            <input type="text" class="form-control" ng-model="person.lastName" id="lastName" />
        </div>
        
        <div class="form-group" ng-class="{'has-error': personForm.email.$invalid, 'has-success': personForm.email.$valid}">
            <label class="control-label" for="email">Email:</label>
            <input type="email" class="form-control" ng-model="person.email" id="email" name="email" required />
        </div>
        
        <div class="form-group" ng-class="{'has-error': personForm.salary.$invalid, 'has-success': personForm.salary.$valid}">
            <label class="control-label" for="salary">salary:</label>
            <input type="number" class="form-control" ng-model="person.salary" id="salary" name="salary" required />
        </div>

        <button type="submit" class="btn btn-success">
            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Save
        </button>
    </form>
    
    <table class="table table-striped">
        <thead>
            <tr>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Email</th>
                <th>Date of birth</th>
                <th>Salary</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="person in people">
                <td>{{person.FirstName}}</td>
                <td>{{person.LastName}}</td>
                <td>{{person.Email}}</td>
                <td>{{person.DateOfBirth}}</td>
                <td>{{person.Salary | currency}}</td>
                <td>
                    <button class="btn btn-success"><span class="glyphicon glyphicon-edit" aria-hidden="true"></span> Edit</button>
                    <button class="btn btn-danger" ng-click="delete(person)"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Delete</button>
                    @*<button class="btn btn-danger" data-toggle="popover" data-trigger="focus" title="Confirm delete?" data-content="Are you sure you want to delete?"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Delete</button>*@
                </td>
            </tr>
        </tbody>
    </table>
</div>

@section scripts
{
    <script src="~/Angular/app.js"></script>
    <script src="~/Angular/Controllers/personCtrl.js"></script>
    <script src="~/Angular/Services/services.js"></script>
    <script type="text/javascript">
        $(function () {
            $('[data-toggle="popover"]').popover();
        })
    </script>
}
